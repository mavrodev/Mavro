language: c
matrix:
  include:
    - os: linux
      dist: trusty
      sudo: required
      compiler:
        - gcc
    
    - os: osx
      osx_image: xcode8.2
      compiler:
        - clang

before_install:
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update          ; fi
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install boost db48 wget ; fi
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then sudo add-apt-repository --yes ppa:ubuntu-sdk-team/ppa&&sudo apt-get update -qq&&apt-get install qt5-default qt5-qmake qtbase5-dev-tools qttools5-dev-tools build-essential libboost-dev libboost-system-dev libboost-filesystem-dev libboost-program-options-dev libboost-thread-dev libssl-dev libdb++-dev libminiupnpc-dev libqrencode-dev apt-file wget; fi
  - wget http://miniupnp.free.fr/files/download.php?file=miniupnpc-2.0.tar.gz&&tar -xzvf miniupnpc-2.0.tar.gz&&cd miniupnpc-2.0&&make&&sudo make install

script:
  - qmake "USE_UPNP=1"
  - make
